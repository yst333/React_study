※ SpringBoot 백앤드 개발

1. BackEndSpringBoot 프로젝트에서 src\main\java\com\springboot\react 패키지 선택 - 우클릭
   - New - Package - Name: 란에 com.springboot.react.model 입력 - Finish 버튼 클릭

2. model 패키지 선택 - 우클릭 - New - Class - Article.java 생성 및 소스 코딩
 
   [Article.java 소스 코딩]
package com.springboot.react.model;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;

import lombok.Data;

@Data
@Entity
@Table(name = "springboot_crud")
public class Article{
	@Id
	@GeneratedValue
	@Column(name = "article_id")
	private int articleId;
	
	@Column(name = "article_title")
	private String articleTitle;
	
	@Column(name = "article_content")
	private String articleContent;
}

[중요]
앞서 Article에 붉은색 표시되면서 Class "com.springboot.react.model.Article" is managed,
but is not listed in the persistence.xml file"라는 에러 메시지가 나타남. 영속성 등록 설정이 안되었다는
에러 메시지이며, 앞서 생성된 META-INF 폴더 안에 persistence.xml 파일 안에 설정해 주면 붉은색 표시가
사라집니다. [다음 : 중요]과 같이 처리해 줍니다.
[다음 : 중요]
[이클립스(또는 STS) Article.java 열린 상태에서 - 우측 "Outline 탭에서 하단 Article 클릭
- 마우스 우클릭 - JPA Tools 선택 - Add to Persistance Unit 클릭하면, META-INF 폴더 안에
persistence.xml 파일 안에 Article 등록되면서 붉은색 표시가 사라집니다.

우리는 관리 편의성을 고려하여, META-INF 폴더와 persistence.xml 파일은 삭제해 줍니다.

================================================================

3. BackEndSpringBoot 프로젝트에서 src\main\java\com\springboot\react 패키지 선택 - 우클릭
   - New - Package - Name: 란에 com.springboot.react.repository 입력 - Finish 버튼 클릭

4. repository 패키지 선택 - 우클릭 - New - Class - ArticleRepository.java 생성 및 소스 코딩
 
   [ArticleRepository.java 소스 코딩]

package com.springboot.react.repository;

import org.springframework.data.repository.CrudRepository;
import org.springframework.stereotype.Repository;

import com.springboot.react.model.Article;

@Repository
public interface ArticleRepository extends CrudRepository<Article, Integer>{
	
	Article findTopByOrderByArticleIdDesc();
	
	Article save(Article article);
	
	void delete(Article article);
	
}

================================================================

5. BackEndSpringBoot 프로젝트에서 src\main\java\com\springboot\react 패키지 선택 - 우클릭
   - New - Package - Name: 란에 com.springboot.react.impl 입력 - Finish 버튼 클릭

6. impl 패키지 선택 - 우클릭 - New - Class - ArticleService.java 생성 및 소스 코딩

   [ArticleService.java 소스 코딩]

package com.springboot.react.impl;

import com.springboot.react.model.Article;

public interface ArticleService {

	void insert(Article article);

	void update(Article article);

	void delete(Article article);

	Article select();

}

7. impl 패키지 선택 - 우클릭 - New - Class - ArticleServiceImpl.java 생성 및 소스 코딩

[ArticleServiceImpl.java 소스 코딩]

package com.springboot.react.impl;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.springboot.react.model.Article;
import com.springboot.react.repository.ArticleRepository;

@Service("articleService")
public class ArticleServiceImpl implements ArticleService{
	@Autowired
	private ArticleRepository dao;
	
	public void insert(Article article) {
		dao.save(article);
	}
	
	public void update(Article article) {
		Article currArticle = dao.findTopByOrderByArticleIdDesc();
		currArticle.setArticleTitle(article.getArticleTitle());
		currArticle.setArticleContent(article.getArticleContent());
		dao.save(currArticle);
	}
	
	public void delete(Article article) {
		dao.delete(article);
	}
	
	public Article select() {
		return dao.findTopByOrderByArticleIdDesc();
	}
}

================================================================

8. BackEndSpringBoot 프로젝트에서 src\main\java\com\springboot\react 패키지 선택 - 우클릭
   - New - Package - Name: 란에 com.springboot.react.controller 입력 - Finish 버튼 클릭

9. controller 패키지 선택 - 우클릭 - New - Class - ArticleController.java 생성 및 소스 코딩

   [ArticleController.java 소스 코딩]

package com.springboot.react.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.springboot.react.impl.ArticleService;
import com.springboot.react.model.Article;

@RestController
public class ArticleController {
	@Autowired
	private ArticleService articleService;

	@RequestMapping(value = "insertProcess.do")
	public void insertProcess(Article article) {
		articleService.insert(article);
	}

	@RequestMapping(value = "updateProcess.do")
	public void updateProcess(Article article) {
		articleService.update(article);
	}

	@RequestMapping(value = "deleteProcess.do")
	public void deleteProcess(Article article) {
		articleService.delete(article);
	}

	@RequestMapping(value = "view.do")
	public Article viewArticle() {
		Article article = articleService.select();
		return article;
	}

}

================================================================

10. BackEndSpringBoot 프로젝트 클릭 선택 - 마우스 우클릭 - Run As - Spring Boot App 실행


[정상 실행 예시]

23:12:26.125 [Thread-1] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@5ad856a0

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.5.8)

2022-01-09 23:12:26.478  INFO 11408 --- [  restartedMain] com.example.SpringBootReactApplication   : Starting SpringBootReactApplication using Java 1.8.0_221 on GENIE with PID 11408 (C:\SPRING_REVIEW\SpringBootReact\target\classes started by starh in C:\SPRING_REVIEW\SpringBootReact)
2022-01-09 23:12:26.479  INFO 11408 --- [  restartedMain] com.example.SpringBootReactApplication   : No active profile set, falling back to default profiles: default
2022-01-09 23:12:26.518  INFO 11408 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\SPRING_REVIEW\SpringBootReact\src\main\webapp\WEB-INF\lib\orai18n.jar referenced one or more files that do not exist: file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-mapping.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-utility.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-collation.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-translation.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-net.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-servlet.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-lcsd.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/orai18n-tools.jar,file:/C:/SPRING_REVIEW/SpringBootReact/src/main/webapp/WEB-INF/lib/gdk_custom.jar
2022-01-09 23:12:26.518  INFO 11408 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\starh\.m2\repository\com\oracle\database\jdbc\ojdbc8\21.1.0.0\ojdbc8-21.1.0.0.jar referenced one or more files that do not exist: file:/C:/Users/starh/.m2/repository/com/oracle/database/jdbc/ojdbc8/21.1.0.0/oraclepki.jar
2022-01-09 23:12:26.518  INFO 11408 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-01-09 23:12:26.518  INFO 11408 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-01-09 23:12:27.128  INFO 11408 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-01-09 23:12:27.181  INFO 11408 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 1 JPA repository interfaces.
2022-01-09 23:12:27.737  INFO 11408 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9003 (http)
2022-01-09 23:12:27.745  INFO 11408 --- [  restartedMain] o.apache.catalina.core.StandardService   : 서비스 [Tomcat]을(를) 시작합니다.
2022-01-09 23:12:27.745  INFO 11408 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : 서버 엔진을 시작합니다: [Apache Tomcat/9.0.37]
2022-01-09 23:12:27.971  INFO 11408 --- [  restartedMain] org.apache.jasper.servlet.TldScanner     : 적어도 하나의 JAR가 TLD들을 찾기 위해 스캔되었으나 아무 것도 찾지 못했습니다. 스캔했으나 TLD가 없는 JAR들의 전체 목록을 보시려면, 로그 레벨을 디버그 레벨로 설정하십시오. 스캔 과정에서 불필요한 JAR들을 건너뛰면, 시스템 시작 시간과 JSP 컴파일 시간을 단축시킬 수 있습니다.
2022-01-09 23:12:27.975  INFO 11408 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-01-09 23:12:27.975  INFO 11408 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1456 ms
2022-01-09 23:12:28.153  INFO 11408 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-01-09 23:12:28.198  INFO 11408 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.33
2022-01-09 23:12:28.361  INFO 11408 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-01-09 23:12:28.457  INFO 11408 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-01-09 23:12:28.466  WARN 11408 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2022-01-09 23:12:28.918  INFO 11408 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-01-09 23:12:28.930  INFO 11408 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect
2022-01-09 23:12:29.647  INFO 11408 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-01-09 23:12:29.658  INFO 11408 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-01-09 23:12:29.978  WARN 11408 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-01-09 23:12:30.284  INFO 11408 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-01-09 23:12:30.315  INFO 11408 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9003 (http) with context path ''
2022-01-09 23:12:30.323  INFO 11408 --- [  restartedMain] com.example.SpringBootReactApplication   : Started SpringBootReactApplication in 4.186 seconds (JVM running for 5.05)
